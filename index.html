<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bypass CORS with Service Worker</title>
</head>
<body>
    <h1>Fetch API Data</h1>
    <button id="fetch-button">Fetch Data</button>
    <div id="result"></div>

    <script>
        // Register the service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                console.log('Service Worker registered. Scope:', registration.scope);
            }).catch(function(error) {
                console.error('Service Worker registration failed:', error);
            });
        }
        // Fetch data on button click
        document.getElementById('fetch-button').addEventListener('click', function() {
            fetch('https://www.terabox.com/api/shorturlinfo?app_id=250528&web=1&channel=dubox&clienttype=0&jsToken=1&dp-logid=1&shorturl=1wNygaimaEEky7K_dbNQE_g&root=1')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('result').textContent = JSON.stringify(data, null, 2);
                })
                .catch(error => {
                    document.getElementById('result').textContent = 'Error: ' + error;
                });
        });
    </script>
</body>
</html>





<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch Data Example</title>

<style>
  body {
    color: #fff;
    background-color: #222;
}
</style>
</head>
<body>
    
    <h1>Fetch Data Example</h1>
<button onclick="fetchData()">GET</button>
    <script>
        async function fetchData() {
            const shortUrl = "1h6jTmHyVqO5g54jRDiCARw"; // Replace with your actual short URL
          //  const root = "rootValue"; // Replace with your actual root value
          //  const dir = "dirValue"; // Replace with your actual directory value
            const cookie = "csrfToken=j88Szw5MIl2hGvFv5SJLOQRB; browserid=C0I91okQQ0DvgSyaeCjE8NyO2aCEfEWwjFwHGEt3rhxPYFW3ozdm5ATilVg=; lang=en; TSID=a1yUfAWM0l0WwNMLnw1k3SpOBYUiN5wH; __bid_n=19048ac1acf9f450364207; _ga=GA1.1.1730298308.1719206174; ndus=YTQnjeYteHuiiOP5a_0RXMe-N2kKaBlK7pYb6Yax; ab_sr=1.0.1_NzhiNjI0NTAyZTc3YmVkNmY5MzQ1NWFhMjNjODE2MjNhMDg0OTRjYzY0ZDM3ODdiMzhhZDM2N2FmNGJkYmUwNzU5OWQzODk2NmRjM2QyN2FhZDQ4M2U3MzAyZjM2ZTA1NjczZWIzOTFhNmViYjgxNjJhYTQwMzFmNzEwOWU3NzkzY2UxNmYwZjg2NjJhNDQyZjZiY2I1ZGYyODllZGVmOA==; _ga_06ZNKL8C2E=GS1.1.1719206173.1.1.1719206465.38.0.0; ndut_fmt=19B81A1652BAC5E6E3B740B4F223025A95D28C4DACE4B177CC7A4AF6C7A329F8"; // Assign "234333" to the value of "cookie"
            const proxyUrl = 'https://api.allorigins.win/get?url=';
            const queryString = new URLSearchParams({ app_id: "250528", shorturl: shortUrl.slice(1)}).toString();
            const tbapi = `https://www.terabox.com/share/list?" + ${queryString}`
            try {
                const response = await fetch(proxyUrl + encodeURIComponent(tbapi));
                //const response = await fetch("https://www.terabox.com/share/list?" + queryString, {
                    method: "GET",
                    headers: { Cookie: cookie },
                });

                if (!response.ok) {
                    throw new Error("Failed to fetch data");
                }

                const data = await response.json();
                console.log("Response data:", data);

                if (data.errno !== 0) {
                    throw new Error("Failed to get data");
                }

                // Process your data here as needed
            } catch (error) {
                console.error("Error fetching data:", error);
            }
        }

        // Call the fetchData function when the page loads
        fetchData();
    </script>
</body>
</html>
    var lineText = text.substring(startOfLine, endOfLine);
    document.getElementById('deleteBox').value = lineText;
}
document.getElementById('textBox').onclick = pasteLineText;
  
</script>
</body>
</html>
-->
